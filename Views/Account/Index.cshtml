
@model vocabadmin.Models.AuthenticateRequest

@{
    ViewBag.Title = "Login";
    string API_SERVER = (ViewBag.API_SERVER) as string;
    string LOGIN_URL = API_SERVER + "/api/user/autenticate";
}

<div class="row justify-content-md-center">
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                Login
            </div>
            <div class="card-body">
                    @using (Html.BeginForm())
                    {
                    @Html.AntiForgeryToken()
                    <div class="form-group">
                        @Html.LabelFor(m => m.Username)
                        @Html.TextBoxFor(m => m.Username, "", new { @class = "form-control", @placeholder = "Username" })

                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.Password)
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", @placeholder = "Password" })
                    </div>
                    <div class="form-group">
                        <button id="btnSubmit" class="btn btn-primary">Login</button>
                    </div>
                }
            </div>
        </div>
    </div>
</div>


@section Scripts {
    @{Html.RenderPartial("_ValidationScriptsPartial");}

    <script>
         $(document).ready(function () 
         {
            $('#btnSubmit').on('click', function () {
                login();
            });
            
        });
            function login() {
            $.ajax({
                url: "https://localhost:5000/api/user/autenticate",
                type: "POST",
                dataType: "json",
                success: function (result) {
                    var mess = result["message"];
                    alert(mess);
                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            }
    </script>
}